<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Generative Garden</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="atmosphere atmosphere-a"></div>
  <div class="atmosphere atmosphere-b"></div>

  <main class="app-shell">
    <section class="control-panel">
      <h1>Generative Garden</h1>
      <p>Local generative art playground. Pick a style and let it evolve.</p>

      <div class="controls">
        <label for="categorySelect">Category</label>
        <select id="categorySelect">
          <option value="classic">Classic Canvas</option>
          <option value="shader3d">Shader 3D</option>
          <option value="combo">Mode Combiner</option>
        </select>

        <div id="classicGroup" class="mode-group">
          <label for="modeSelect">Classic Mode</label>
          <select id="modeSelect"></select>
        </div>

        <div id="shaderGroup" class="mode-group">
          <label for="shaderModeSelect">Shader 3D Mode</label>
          <select id="shaderModeSelect"></select>
        </div>

        <div id="comboGroup" class="mode-group">
          <label for="comboModeASelect">Combine A</label>
          <select id="comboModeASelect"></select>

          <label for="comboModeBSelect">Combine B</label>
          <select id="comboModeBSelect"></select>

          <label for="comboBlendSelect">Blend</label>
          <select id="comboBlendSelect"></select>
        </div>

        <label for="paletteSelect">Palette</label>
        <select id="paletteSelect"></select>

        <label for="seedInput">Seed</label>
        <input id="seedInput" type="number" min="1" max="9999999" step="1">

        <div class="range-block">
          <label for="densityRange">Density <span id="densityValue" class="value-pill">1.0x</span></label>
          <input id="densityRange" type="range" min="0.4" max="2.4" step="0.1" value="1">

          <label for="speedRange">Speed <span id="speedValue" class="value-pill">1.0x</span></label>
          <input id="speedRange" type="range" min="0.3" max="2.5" step="0.1" value="1">

          <label for="lineWidthRange">Line Width <span id="lineWidthValue" class="value-pill">1.0x</span></label>
          <input id="lineWidthRange" type="range" min="0.4" max="2.5" step="0.1" value="1">
        </div>

        <section class="random-options">
          <p>Random Attributes</p>
          <label class="check-item"><input id="randCategory" type="checkbox"> Category</label>
          <label class="check-item"><input id="randMode" type="checkbox" checked> Mode</label>
          <label class="check-item"><input id="randBlend" type="checkbox"> Blend (Combiner)</label>
          <label class="check-item"><input id="randPalette" type="checkbox" checked> Palette</label>
          <label class="check-item"><input id="randSeed" type="checkbox" checked> Seed</label>
          <label class="check-item"><input id="randDensity" type="checkbox" checked> Density</label>
          <label class="check-item"><input id="randSpeed" type="checkbox" checked> Speed</label>
          <label class="check-item"><input id="randLineWidth" type="checkbox" checked> Line Width</label>
        </section>

        <section class="preset-options">
          <p>Presets</p>
          <label for="presetSelect">Preset List</label>
          <select id="presetSelect"></select>
          <input id="presetNameInput" type="text" placeholder="Preset name (optional)" maxlength="40">
          <div class="action-row">
            <button id="savePresetBtn" type="button">Save Preset</button>
            <button id="applyPresetBtn" type="button">Apply Preset</button>
            <button id="deletePresetBtn" type="button">Delete Preset</button>
          </div>
        </section>

        <section class="record-options">
          <p>Recording</p>
          <div class="action-row">
            <button id="recordWebmBtn" type="button">Start WebM</button>
            <button id="exportGifBtn" type="button">Export GIF (4s)</button>
          </div>
          <p id="recordStatus" class="record-status">Recorder idle</p>
        </section>
      </div>

      <div class="actions">
        <button id="generateBtn" type="button">Regenerate</button>
        <button id="randomBtn" type="button">Randomize Selected</button>
        <button id="undoBtn" type="button">Undo Previous</button>
        <button id="pauseBtn" type="button">Pause</button>
        <button id="downloadBtn" type="button">Export PNG</button>
        <button id="copyLinkBtn" type="button">Copy Share URL</button>
      </div>
      <p id="historyStatus" class="history-status">History 0/30</p>
    </section>

    <section class="canvas-frame">
      <canvas id="artCanvas" class="render-canvas" aria-label="Generative art canvas"></canvas>
      <canvas id="glCanvas" class="render-canvas" aria-label="Generative art shader canvas"></canvas>
    </section>
  </main>

  <script src="https://cdn.jsdelivr.net/npm/gif.js.optimized/dist/gif.js"></script>
  <script src="app.js"></script>
</body>
</html>
